# สิ่งที่ต้องจัดการเพื่อขายระบบ ai-shop

เอกสารนี้สรุปสิ่งที่ควรทำต่อเพื่อให้ระบบพร้อมขายได้ (ทั้งแบบขายเป็นซอฟต์แวร์ให้ลูกค้า deploy เอง หรือแบบ SaaS ที่คุณเป็นคนโฮสต์)

---

## โมเดลการขาย (เลือกก่อน)

| โมเดล | ความหมาย | โครงสร้างปัจจุบัน |
|-------|----------|-------------------|
| **1. ขายเป็นซอฟต์แวร์ (License / Self-hosted)** | ลูกค้าซื้อโค้ด/ลิขสิทธิ์ แล้ว deploy เองบน Cloudflare ของลูกค้า (D1, R2, Worker ของเขา) | เหมาะมาก — หนึ่ง deployment = หนึ่งโดเมน = หนึ่งร้าน (หรือหลายโดเมนชี้มา D1 เดียว = หลายร้าน) |
| **2. ขายแบบ SaaS (คุณโฮสต์)** | ลูกค้าสมัครใช้ คุณโฮสต์ให้ ร้านหนึ่ง = หนึ่ง subdomain หรือ custom domain | ต้องเพิ่ม: หน้าสมัครร้านใหม่, ระบบเก็บเงิน (Stripe ฯลฯ), ตัวจัดการร้านทั้งหมด (platform admin) |

แนะนำ: ถ้าต้องการขายเร็ว เริ่มจาก **โมเดล 1** (ขายเป็นโปรแกรม/ลิขสิทธิ์ + คู่มือ deploy) ก่อน แล้วค่อยทำโมเดล 2 ถ้าต้องการ recurring revenue

---

## สิ่งที่ควรทำต่อ (เรียงตามความสำคัญ)

### ระดับ 1 — ต้องมีเพื่อขายได้

1. **เอกสารสำหรับผู้ซื้อ (ลูกค้า deploy เอง)**
   - คู่มือติดตั้งแบบ step-by-step (มีอยู่แล้วใน README — อาจแยกเป็น `docs/INSTALL.md` และเพิ่มส่วน “หลังซื้อได้อะไร / วิธีได้โค้ด”)
   - กำหนดว่า “การขาย” คือส่ง repo / ไฟล์ zip / ลิงก์ private repo หลังชำระเงิน
   - ข้อตกลงการใช้งาน / ลิขสิทธิ์ (ใช้ได้กี่โดเมน, ห้ามแจกจ่ายซ้ำ ฯลฯ)

2. **หน้าหรือเอกสาร “ขายระบบ” (Landing / Sales)**
   - หน้าหรือเอกสารสั้นๆ อธิบายว่าระบบทำอะไร (ร้านออนไลน์ + สั่งผ่าน WhatsApp, multi-tenant ตามโดเมน)
   - ฟีเจอร์หลัก: หน้าร้าน, สินค้า, หมวดหมู่, ออเดอร์, WhatsApp, Admin, ภาษาลาว/อังกฤษ
   - วิธีติดต่อซื้อ / ราคา (ครั้งเดียว หรือรายปี ถ้าเป็น license)

3. **ความปลอดภัยและความน่าเชื่อถือ**
   - ตรวจว่าไม่มี secret / API key ติดไปกับ repo (ใช้ env / Cloudflare Secrets อย่างเดียว)
   - ใน README หรือ INSTALL ระบุชัดว่าต้องตั้ง `SESSION_SECRET` เอง และไม่แชร์

### ระดับ 2 — ทำให้ขายง่ายและรองรับหลายร้าน (ถ้ายังใช้หลายโดเมนใน D1 เดียว)

4. **รองรับหลายร้านในหนึ่ง deployment**
   - ปัจจุบัน: ใช้ Host header หา `shop` จากตาราง `shops.domain` อยู่แล้ว — ถ้าลูกค้าเพิ่มหลายโดเมนใน D1 เดียว หลายร้านใช้ได้
   - เพิ่ม: คู่มือสั้นว่า “ถ้าต้องการหลายร้าน (หลายโดเมน)” ให้เพิ่มแถวใน `shops` แล้วผูกโดเมน (หรือทำ flow bootstrap ต่อโดเมนที่สอง ถ้าอยากให้มี UI)

5. **Onboarding หลัง deploy ครั้งแรก**
   - มี bootstrap อยู่แล้ว: สร้างร้านแรก + owner
   - เพิ่ม: ใน README/INSTALL บอกชัดว่าหลัง deploy แล้วให้เข้า `/admin/bootstrap` เพื่อสร้างร้านแรก แล้วค่อยเข้า `/admin/login`

### ระดับ 3 — ถ้าจะขายแบบ SaaS (คุณโฮสต์)

6. **หน้าสมัครร้าน (Sign-up)**
   - ฟอร์ม: โดเมน/ subdomain ที่ต้องการ, ชื่อร้าน, อีเมล owner, รหัสผ่าน
   - Backend: สร้างแถวใน `shops` + สร้าง user (owner) — logic คล้าย bootstrap แต่ไม่เช็ค “users ว่าง”
   - จำกัดการสมัคร (เช่น ต้องชำระเงินก่อน หรือรออนุมัติ)

7. **การเก็บเงิน (Billing)**
   - ใช้ Stripe (หรือบริการอื่น): สร้าง subscription / ชำระครั้งเดียว
   - ผูกกับ “ร้าน” หรือ “tenant”: หลังชำระแล้วถึงเปิดให้ใช้ / สร้าง shop

8. **Platform Admin (ตัวคุณ)**
   - หน้า login แยกสำหรับ “แอดมินแพลตฟอร์ม” (ไม่ใช่แอดมินร้าน)
   - ดูรายการร้านทั้งหมด, สถานะการชำระเงิน, ปิด/เปิดร้าน, ลบร้าน (ถ้าต้องการ)
   - อาจเก็บในตาราง `platform_users` และเช็ค role แยกจาก `users` ของแต่ละร้าน

9. **โดเมน / Subdomain**
   - ถ้าใช้ subdomain: เช่น `shop1.yourproduct.com` → ต้องมีวิธีผูก subdomain กับ `shops.domain` (หรือเพิ่ม CNAME + บันทึกใน DB)
   - Custom domain: ลูกค้าตั้ง CNAME ชี้มาที่คุณ — มีหน้าคำแนะนำใน Admin ให้ลูกค้าอ่าน

### ระดับ 4 — ปรับปรุงต่อ (หลังขายได้แล้ว)

10. **Demo / Trial**
    - หน้า “ลองใช้” หรือ “ดู Demo” ลิงก์ไปร้านตัวอย่าง (หรือ subdomain demo ที่คุณสร้างไว้)

11. **การสนับสนุนและเอกสาร**
    - ช่องทางติดต่อ (ไลน์ / อีเมล / เบอร์)
    - FAQ: คำถามที่พบบ่อย ( deploy ไม่ได้, ลืมรหัส, เปลี่ยนโดเมน ฯลฯ )

12. **การตลาด**
    - กลุ่มเป้าหมายชัด (ร้านค้าขนาดเล็ก, ร้านที่อยากรับออเดอร์ผ่าน WhatsApp)
    - ช่องทางขาย: เว็บคุณ, Facebook, ติดต่อร้านโดยตรง ฯลฯ

---

## สรุปแบบสั้น

- **ถ้าขายเป็น “ซอฟต์แวร์ให้ลูกค้า deploy เอง”**  
  โฟกัส: ระดับ 1 (เอกสาร, หน้าขาย/ข้อตกลง, ความปลอดภัย) + ระดับ 2 เฉพาะข้อที่เกี่ยวกับหลายร้าน/หลายโดเมนและ onboarding ให้ครบ

- **ถ้าขายแบบ “SaaS”**  
  ต้องทำระดับ 1 + ระดับ 2 แล้วต่อด้วยระดับ 3 (สมัครร้าน, บิลลิ่ง, platform admin, โดเมน)

ถ้าบอกได้ว่าตอนนี้อยากเน้น “ขายแบบ deploy เอง” หรือ “SaaS” จะช่วยจัดลำดับและลงรายละเอียดเป็นขั้นตอนใน repo ให้ได้ต่อ (เช่น แก้ README, เพิ่ม INSTALL.md, หรือออกแบบ API/DB สำหรับสมัครร้านและ billing).
